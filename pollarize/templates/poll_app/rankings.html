{% extends 'poll_app/base.html'%}
{% load staticfiles %}

{% block head_block %}
       <script src="{% static 'js/populate_boxes.js' %}"></script>
       <link rel="stylesheet" href="{% static 'css/rankings.css' %}">
       <title>Pollarize - Rankings</title>
{% endblock %}

{% block body_block %}

{% if champion%}
        <div id="top_text">
            <img src="{% static 'img/trophy.gif' %}" id="trophy" height="150px"></img>
            <h1>The current pollarize champion is: <br />
            <em><a href="{% url 'poll_app:user' champion.submitter.id %}">{{ champion.submitter }}</a></em></h1>

            <div class = "champion_poll_box" id="poll_{{ champion.poll_slug }}">
                <h1><a href="{% url 'poll_app:results' champion.poll_slug %}">{{ champion.question }}</a></h1>
                <div class="action_buttons">
                    <form action="{% url 'poll_app:results' champion.poll_slug %}">
                        <button type="submit" class="orange_button" id="champion_vote_button">Vote!</button>
                    </form>
                </div>

                <div class="vote_bar_container">
                    <h3 class="orange_percent">-%</h3>
                    <div class="vote_bar"></div>
                    <h3 class="grey_percent">-%</h3>
                </div>
                    <p class="box_votes">--- votes</p>
            </div>
        </div>
{% else%}
       <h1>There is currently no champion. You could <em>become the first!</em></h1>
        <div class="action_buttons">
            <form action="{% url 'poll_app:create' %}">
                <button type="submit" class="orange_button">Create a poll!</button>
            </form>
        </div>
{% endif %}
            <div class="orange_box">
                {% if recent %}
                <div id="vote_boxes_container">
                    <div id="left">
                        <h1>Popular</h1>
                        {% for poll in popular %}
                        <div class = "poll_box" id="poll_{{ poll.poll_slug }}">
                            <h1><a href="{% url 'poll_app:results' poll.poll_slug %}">{{ poll.question }}</a></h1>
                            <p>by <a href="{% url 'poll_app:user' poll.submitter.id %}">{{ poll.submitter }}</a></p>
                            <div class="vote_bar_container">
                                <h3 class="orange_percent">-%</h3>
                                <div class="vote_bar"></div>
                                <h3 class="grey_percent">-%</h3>
                            </div>
                                <p class="box_votes">--- votes</p>
                        </div>
                        {% endfor %}
                    </div>

                    <div id="middle">
                        <h1>Pollarizing</h1>
                        {% for poll in pollarizing %}
                        <div class = "poll_box" id="poll_{{ poll.poll_slug }}">
                            <h1><a href="{% url 'poll_app:results' poll.poll_slug %}">{{ poll.question }}</a></h1>
                            <p>by <a href="{% url 'poll_app:user' poll.submitter.id %}">{{ poll.submitter }}</a></p>
                            <div class="vote_bar_container">
                                <h3 class="orange_percent">-%</h3>
                                <div class="vote_bar"></div>
                                <h3 class="grey_percent">-%</h3>
                            </div>
                                <p class="box_votes">--- votes</p>
                        </div>
                        {% endfor %}
                    </div>

                    <div id="right">
                        <h1>Recent</h1>
                        {% for poll in recent %}
                        <div class = "poll_box" id="poll_{{ poll.poll_slug }}">
                            <h1><a href="{% url 'poll_app:results' poll.poll_slug %}">{{ poll.question }}</a></h1>
                            <p>by <a href="{% url 'poll_app:user' poll.submitter.id %}">{{ poll.submitter }}</a></p>
                            <div class="vote_bar_container">
                                <h3 class="orange_percent">-%</h3>
                                <div class="vote_bar"></div>
                                <h3 class="grey_percent">-%</h3>
                            </div>
                                <p class="box_votes">--- votes</p>
                        </div>
                        {% endfor %}
                    </div>

                </div>
                {% endif %}

{% endblock %}